<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Usuarios</title>
	<th th:insert="~{header}"></th>
</head>

<body>

	<main class="page">
		<section class="p-5">
			<div class="container-fluid">
				<div class="card">
					<div class="card-header py-3">
						<div class="row align-items-center">
							<div class="col-12 col-sm-5 col-md-6 text-start pt-1 pb-1">
								<p class="text-primary m-0 fw-bold">Usuarios</p>
							</div>
							<div class="col-12 col-sm-7 col-md-6 text-end pt-1 pb-1"><a th:href="@{/usuarios/new}"
									class="btn btn-primary btn-sm reset m-1">Crear
									Usuario</a></div>
						</div>
					</div>
					<div class="row">
						<div class="col-12">
							<div class="table-responsive max-height-table">
								<table class="table table-striped" id="ipi-table">
									<thead class="thead-dark">
										<tr>
											<th class="text-center">Cedula</th>
											<th class="text-center">Nombre</th>
											<th class="text-center">Apellidos</th>
											<th class="text-center">Contraseña</th>
											<th class="text-center">Organizacion</th>
											<th class="text-center">Acciones</th>

										</tr>
									</thead>
									<tbody class="text-center">
										<tr th:each="usuario: ${usuarios}">
											<td th:text="${usuario.CVCedula}"></td>
											<td th:text="${usuario.CVNombre}"></td>
											<td th:text="${usuario.CVApellidos}"></td>
											<td th:text="${usuario.TCClave}"></td>
											<td th:text="${usuario.organizacion.CVNombre}"></td>
											
											<td class="text-center align-middle h-50">
												
												
												<form th:action="@{/redireccionarUsuarioPerfil}" method="post">
													<select class="form-control" name="opcion"
														onchange="this.form.submit()">
														<option value="" disabled selected>Roles</option>
														<option th:value="${'/usuarioPerfil/new/' + usuario.CVCedula} + '-agregarMostrarRoles'"> Agregar
														</option>
														<option th:value="${'/usuarioPerfil/' + usuario .CVCedula} + '-agregarMostrarRoles'"> Mostrar
														</option> 
													</select>
												</form>
												
												
												<a
													class="btn btnMaterial btn-flat success" role="button"
													th:href="@{/usuarios/edit/{id}(id=${usuario.CI_Id})}"><i
														class="fas fa-pen"></i></a><a
													class="btn btnMaterial btn-flat accent btnNoBorders checkboxHover ms-1"
													role="button" th:href="@{/usuarios/{id}(id=${usuario.CI_Id})}"><i
														class="fas fa-trash btnNoBorders"></i></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="card-footer">
						<nav>
							<ul class="pagination pagination-sm mb-0 justify-content-center">
								<li class="page-item"><a class="page-link" aria-label="Previous"
										th:href="@{/usuarios}"><span aria-hidden="true">«</span></a></li>
								<li th:each="nPagina : ${nPaginas}" class="page-item"
									th:class="${PaginaActual == nPaginaStat.count ? 'active' : ''}"><a
										th:text="${nPaginaStat.count}" class="page-link" aria-label="Next"
										th:href="@{/usuario/{pg}(pg=${nPaginaStat.count})}"><span
											aria-hidden="true"></span></a>
								</li>
								<li class="page-item"><a class="page-link" aria-label="Next"
										th:href="@{/usuario/{pg}(pg=${nPaginas.size()})}"><span
											aria-hidden="true">»</span></a></li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</section>
	</main>


	<!-- 	<div class="container-fluid"> -->
	<!-- 	<div class="row"> -->
	<!-- 		<div class="col-md-12"> -->
	<!-- 			<ul class="nav nav-pills flex-column flex-sm-row"> -->
	<!-- 				<li class="nav-item"> -->
	<!-- 					<a class="nav-link active" href="#">Inicio</a> -->
	<!-- 				</li> -->
	<!-- 				<li class="nav-item"> -->
	<!-- 					<a class="nav-link" th:href="@{/usuarios}">Usuarios</a> -->
	<!-- 				</li> -->
	<!-- 			</ul> -->
	<!-- 		</div> -->
	<!-- 	</div> -->
	<!-- </div> -->


	<!-- <div class = "row"> <h1></h1> </div> -->
	<!-- <div class = "row"> <h1></h1> </div> -->

	<!--<div class="alert alert-primary" role="alert">-->
	<!--  Usuarios-->
	<!--</div>-->

	<!--	<div class="row">-->
	<!--		<div class="col-md-12">-->
	<!--			 -->
	<!--			 <a th:href = "@{/usuarios/new}" class = "btn btn-primary btn-lg"> Agregar usuario</a>-->
	<!--			 -->
	<!--	<div class = "row"> <h1></h1> </div>-->
	<!--<div class = "row"> <h1></h1> </div> -->
	<!--			-->
	<!--			<table class="table table-striped table-sm">-->
	<!--				<tr>-->
	<!--			     	<th> Cedula</th>-->
	<!--					<th> Nombre</th>-->
	<!--					<th> Apellidos</th>-->
	<!--					<th> Perfil</th>-->
	<!--		            <th> Contrase�a</th>-->
	<!--					<th> Acciones </th>-->
	<!--				</tr>-->
	<!--			-->
	<!--			<tbody>-->
	<!--				<tr th:each = "usuario: ${usuarios}">-->
	<!--			    	<td th:text = "${usuario.CVCedula}"></td>-->
	<!--					<td th:text = "${usuario.CVNombre}"></td>-->
	<!--					<td th:text = "${usuario.CVApellidos}"></td>-->
	<!--					<td th:text = "${usuario.CIPerfil}"></td>-->
	<!--				    <td th:text = "${usuario.TCClave}"></td>-->
	<!--					<td>-->
	<!--						<a th:href = "@{/usuarios/edit/{id}(id=${usuario.CI_Id})}"-->
	<!--						 class = "btn btn-primary">Actualizar</a>-->
	<!--	-->
	<!--						<a th:href = "@{/usuarios/{id}(id=${usuario.CI_Id})}"-->
	<!--						 class = "btn btn-danger">Eliminar</a>-->
	<!--					</td>-->
	<!--				</tr>-->
	<!--			</tbody>-->
	<!--			</table> -->
	<!--			-->
	<!--		</div>-->
	<!--	</div>-->
	<!--</div>-->


</body>

</html>