<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="utf-8">
    <title>Header</title>
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="/assets/bootstrap/js/themes.js"></script>
    <script src="/assets/bootstrap/js/theme.js"></script>
    <link rel="stylesheet" href="/assets/css/crud-table.css">
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/fonts/fontAwesome/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="/assets/fonts/fontAwesome/fonts/simple-line-icons.min.css">

</head>
<body>

<th:block th:fragment="nav">

<nav class="navbar navbar-light navbar-expand-lg fixed-top bg-body clean-navbar">
    <div class="container">
        <a class="navbar-brand logo" th:href="@{/inicio}">Femicidios</a>
        <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1">
            <span class="visually-hidden">Toggle navigation</span>
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item item"><a class="nav-link" th:href="@{/inicio}">Inicio</a></li>

                <!-- Mostrar estas opciones solo si el usuario está autenticado -->
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <div class="container">
                        <form th:action="@{/redireccionarEntidades}" method="post">
                            <select class="form-control" name="opcion" onchange="this.form.submit()">
                                <option value="" disabled selected>Entidades</option>
                                <option value="hecho">Hechos</option>
                                <option value="imputado">Imputados</option>
                                <option value="organismo">Organismos</option>
                                <option value="procesoJudicial">Procesos Judiciales</option>
                                <option value="lugar">Lugares</option>
                                <option value="bitacoras">Bitacoras</option>
                                <option value="victima">Victimas</option>
                                <option value="dependientes">Dependientes</option>
                                <option value="usuarios">Usuarios</option>
                                <option value="perfiles">Perfiles</option>
                            </select>
                        </form>
                    </div>
                </li>

                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <div class="container">
                        <form th:action="@{/redireccionarCampos}" method="post">
                            <select class="form-control" name="opcion" onchange="this.form.submit()">
                                <option value="" disabled selected>Campos Codificados</option>
                                <option value="identidadGenero">Identidades De Genero</option>
                                <option value="orientacionSexual">Orientaciones Sexuales</option>
                                <option value="modalidad">Modalidades</option>
                                <option value="nivelEducativo">Niveles Educativos</option>
                                <option value="situacionJuridica"> Situaciones Juridicas</option>
                                <option value="tipoLugar">Tipos De Lugares</option>
                                <option value="tipoRelacion">Tipos De Relaciones</option>
                                <option value="tipoRelacionFamiliar">Tipo De Relacion Familiar</option>
                                <option value="tipoVictima">Tipos De Victimas</option>
                                <option value="tipoOrganismo">Tipos De Organismos</option>
                                <option value="organizacion">Organizaciones</option>

                            </select>
                        </form>
                    </div>
                </li>

                <!-- Mostrar el enlace de "Cerrar sesión" solo cuando el usuario esté autenticado -->
                <li class="nav-item ml-auto" sec:authorize="isAuthenticated()">
                    <a class="nav-link" th:href="@{/logout}">Cerrar sesión</a>
                </li>

                <!-- Mostrar el enlace de "Iniciar sesión" solo cuando el usuario NO esté autenticado -->
                <li class="nav-item ml-auto" sec:authorize="!isAuthenticated()">
                    <a class="nav-link" th:href="@{/login}">Iniciar sesión</a>
                </li>

                <!-- Selector de tema (siempre visible) -->
                <li class="theme-switcher nav-item dropdown">
                    <a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#">
                        <i id="theme-main-icon-link" class="fas fa-sun mb-1"></i>
                    </a>
                    <div id="theme-dropdown-menu" class="dropdown-menu">
                        <a onclick="changeIcon('fa-sun')" class="dropdown-item d-flex align-items-center" href="#" data-bs-theme-value="light">
                            <i class="fas fa-sun opacity-50 me-2"></i>Light
                        </a>
                        <a onclick="changeIcon('fa-moon')" class="dropdown-item d-flex align-items-center" href="#" data-bs-theme-value="dark">
                            <i class="fas fa-moon opacity-50 me-2"></i>Dark
                        </a>
                        <a onclick="changeIcon('fa-dot-circle')" class="dropdown-item d-flex align-items-center" href="#" data-bs-theme-value="auto">
                            <i class="fas fa-dot-circle opacity-50 me-2"></i>Auto
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>


</th:block>


</body>
</html>